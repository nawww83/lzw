# lzw
Словарный алгоритм сжатия Lempel-Ziv-Welch (LZW). Словарь реализован в виде хеш-таблицы для ускорения поиска и, соответственно, процесса сжатия/распаковки. Используется мультипликативная хеш-функция с использованием "золотого" сечения 0.618... Алгоритм ориентирован на поток байтов (8 бит).

Настраиваются: 
- разрядность Ncode кодовых слов словаря, от 9 до 16 включительно,
- число записей в словаре, Ntable, не выше 2^Ncode,
- размер блока непрерывно сжимаемых данных, BlockSize, в байтах.

Чем больше разрядность кодового слова, тем потенциально выше достигаемый коэффициент сжатия, но одновременно больше размер таблицы-словаря и объем требуемой оперативной памяти. В процессе кодирования (сжатия) таблица растет от минимального размера 258 до Ntable, после чего сбрасывается обратно до 258 строк, и т.д. Чем выше энтропия (по-шеннону) сжимаемого потока, тем в меньшей степени сжимается поток и быстрее растет таблица-словарь, таким образом, рост таблицы - вероятностный процесс, зависящий от источника данных.

На вход компрессора LZW поступает блок размером BlockSize байт. На выходе формируется блок, структура которого следующая:
    LzwBlock = {количество подблоков Nsubblock, подблоки Subblocks}
Размер подблока SizeSubblock определяется его кратностью байту, а также разрядностью кодового слова Ncode, так, чтобы в подблок при этом входило целое число кодовых слов. Например, при Ncode = 9 бит размер подблока SizeSubblock будет 8 байт (72 бита, что кратно 9 битам, а также байту). Количество подблоков Nsubblock кодируется 4 байтами. Общий размер непрерывно идущих подблоков в байтах равен SizeSubblock * Nsubblock. Подблоки при распаковке читаются за один прием; при сжатии, соответственно, пишутся за один прием.

При сжатии произвольного файла он бьется на блоки размером BlockSize, при этом возможный остаток сжимается как есть, т.е. без всякого дополнения. Структура сжатого файла lzw следующая:
    {размер расширения SzExt в байтах, расширение Ext, размер таблицы Ntable, резерв Nsymbol, разрядность слова Ncode, размер подблока SizeSubblock, массив блоков LzwBlock}

Расширение Ext - расширение сжимаемого файла (может быть любым). После сжатия исходный файл удаляется, а сжатому файлу присваивается расширение lzw. При распаковке исходное расширение восстанавливается, сжатый файл удаляется. Блоки LzwBlock читаются один за одним по принципу "пока не конец файла". Каждый блок LzwBlock должен быть распакован в блок размером BlockSize, за исключением, возможно, последнего, если размер сжимаемого файла не кратен размеру подблока SizeSubblock. Количество подблоков Nsubblock в блоке LzwBlock фактически является случайной величиной и определяет коэффициент сжатия.

Алгоритм LZW взят из книги Ватолина, Ратушняка... "Методы сжатия данных", хеш-функция взята из одноименной книги Д. Кнута "Искусство программирования".

Проект состоит из трех подпроектов:
1. Непосредственно алгоритм сжатия LZW в папке lzwhash. При компиляции генерируется динамически загружаемая библиотека lzwhash.
2. Специализированная консольная утилита сжатия lzwssh радарных данных, использующая библиотеку lzwhash.
3. GUI-утилита guilzw для тестирования алгоритма сжатия LZW на любых файлах, а также на случайных данных.
